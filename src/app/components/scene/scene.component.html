<main #scene class="flex flex-col h-full w-full px-4 py-2">
  <div class="flex flex-row justify-center space-x-2 pb-2">
    <blearn-button
      icon="play"
      studentText="Run"
      teacherText="Run"
      studentStyle="bg-green-500 text-white py-2"
      teacherStyle="bg-green-500 text-white py-2"
      (clicked)="runCode.emit()"
      [disabled]="isRunning()"
    />
    <blearn-button
      icon="stop"
      studentText="Stop"
      teacherText="Stop"
      studentStyle="bg-red-500 text-white"
      teacherStyle="bg-red-500 text-white"
      (clicked)="isRunning.set(false)"
      [disabled]="!isRunning()"
    />
  </div>

  <canvas #canvas class="w-[40rem] h-[26rem] bg-gray-300 border-transparent rounded-lg"></canvas>

  <div>
    <h3 class="text-2xl py-4"><strong>Scene Objects</strong></h3>

    <div class="grid grid-cols-5 gap-4 justify-items-center">
      @for (obj of sceneObjects; track obj.id) {
        <img [src]="obj.imgSrc"
             [alt]="obj.id"
             [ngClass]="['w-24 h-24 rounded', selectedObject() === obj.id ? 'border-4 border-red-500' : '']"
             (click)="objectSelected.emit(obj.id)">
      }

      @if (modeService.getMode() === 'teacher') {
        <div class="flex w-24 h-24 text-white border-2 border-gray-500 rounded transition-transform hover:scale-105 shadow-md active:scale-95 duration-150" (click)="addObject()">
          <span class="fas fa-plus w-8 h-8 bg-gray-500 p-2 rounded-full m-auto"></span>
        </div>
      }
    </div>
  </div>
</main>
